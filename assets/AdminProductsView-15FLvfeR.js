import{P as m}from"./PaginationComp-mXHoAFbG.js";import{_ as P,r as d,o,c as n,b as r,a as t,F as _,i as f,t as a}from"./index-BgkBJgaK.js";var p={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_NAME:"berlin",BASE_URL:"/vite-week6-airbnb/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const A={data(){return{products:[],pagination:{},isLoading:!1}},components:{PaginationComp:m},methods:{getProducts(c){this.isLoading=!0;const l=`${p.VITE_APP_API_URL}/api/${p.VITE_APP_API_NAME}/admin/products?page=${c}`;this.$http.get(l).then(s=>{this.products=s.data.products,this.pagination=s.data.pagination}).catch(s=>{alert(s.response.data.message)}).finally(()=>{this.isLoading=!1})}},mounted(){this.getProducts()}},E=t("h3",null,"後台產品列表",-1),L={class:"table align-middle"},V=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"分類"),t("th",{scope:"col"},"產品名稱"),t("th",{scope:"col"},"原價"),t("th",{scope:"col"},"售價"),t("th",{scope:"col"},"是否啟用")])],-1),b={class:"text-end"},v={class:"text-end"},x={key:0,class:"text-success"},I={key:1,class:"text-danger"};function y(c,l,s,k,i,u){const g=d("VueLoading"),h=d("PaginationComp");return o(),n(_,null,[E,r(g,{active:i.isLoading},null,8,["active"]),t("table",L,[V,t("tbody",null,[(o(!0),n(_,null,f(i.products,e=>(o(),n("tr",{key:e.id},[t("td",null,a(e.category),1),t("td",null,a(e.title),1),t("td",b,a(e.origin_price),1),t("td",v,a(e.price),1),t("td",null,[e.is_enabled?(o(),n("span",x,"已啟用")):(o(),n("span",I,"未啟用"))])]))),128))])]),r(h,{pagination:i.pagination,onUpdatePage:u.getProducts},null,8,["pagination","onUpdatePage"])],64)}const B=P(A,[["render",y]]);export{B as default};
