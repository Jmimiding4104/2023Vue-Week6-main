import{_ as m,r as i,o as d,c as f,a as r,b as o,w as c,d as e,j as k,k as g,h as L,F as V}from"./index-BgkBJgaK.js";var v={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_NAME:"berlin",BASE_URL:"/vite-week6-airbnb/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const R={data(){return{checkSuccess:!1,isLoading:!1}},methods:{checkLogin(){this.isLoading=!0;const s=document.cookie.replace(/(?:(?:^|.*;\s*)W6Token\s*=\s*([^;]*).*$)|^.*$/,"$1");if(s){this.$http.defaults.headers.common.Authorization=s;const t=`${v.VITE_APP_API_URL}/api/user/check`;this.$http.post(t).then(n=>{this.checkSuccess=!0}).catch(n=>{alert(n.response.data.message),this.$router.push("/login")}).finally(()=>{this.isLoading=!1})}else alert("請先登入"),this.$router.push("/login")},signout(){console.log(123),document.cookie="W6Token=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkLogin()}},$=r("h1",{class:"mb-3"},"這是後台頁面",-1),A={class:"mb-3"};function E(s,t,n,b,u,l){const a=i("RouterLink"),h=i("RouterView"),_=i("VueLoading");return d(),f(V,null,[$,r("div",A,[o(a,{to:"/"},{default:c(()=>[e("回前台")]),_:1}),e(" | "),o(a,{to:"/admin/products"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" | "),o(a,{to:"/admin/orders"},{default:c(()=>[e("後台訂單")]),_:1}),e(" | "),r("a",{href:"#",onClick:t[0]||(t[0]=k((...p)=>l.signout&&l.signout(...p),["prevent"]))},"登出")]),u.checkSuccess?(d(),g(h,{key:0})):L("",!0),o(_,{active:u.isLoading},null,8,["active"])],64)}const x=m(R,[["render",E]]);export{x as default};
